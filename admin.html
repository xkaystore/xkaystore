<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>Xkay Store | Convert & Top Up PayPal</title>

  <!-- Google Font (lebih premium) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/admin.css">
</head>

<body>

<nav>
  <div class="brand">
    <img src="assets/image/logo.jpg" class="nav-logo" draggable="false">
    Xkay Store
  </div>

  <div class="nav-right">
  <button class="btn-icon" id="themeBtn" onclick="toggleMode()">ğŸŒ™</button>
    <button class="btn-icon hamburger" onclick="toggleMenu(this)">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <div id="menu" class="dropdown">
    <a href="index.html">Home</a>
    <a href="topup.html">Top Up PayPal</a>
    <a href="convert.html">Convert PayPal</a>
    <a href="history.html">Riwayat Transaksi</a>
    <a href="testimoni.html">Rating & Testimoni Pelanggan</a>
  </div>
</nav>

<!-- =========================
   ADMIN PANEL
========================= -->
<section id="admin" class="admin-section">

  <h2>âš™ï¸ Admin Panel</h2>

  <div class="admin-card">

    <div class="admin-header">
      <h3>Daftar Testimoni Masuk</h3>
    
      <div style="display:flex; gap:8px;">
        <button id="refreshTesti" class="btn-admin">Refresh</button>
        <button id="logoutBtn" class="btn-admin btn-logout">Logout</button>
      </div>
    </div>

    <div id="adminTestimoniList" class="admin-list">
      <!-- auto dari JS -->
    </div>
    
    <div class="pagination" id="testiPagination"></div>

  </div>
  
  <!-- =========================
     ORDERS MANAGEMENT
  ========================= -->
  <div class="admin-card" style="margin-top:20px;">
  
    <div class="admin-header">
      <h3>Manajemen Transaksi</h3>
      <button id="refreshOrders" class="btn-admin">Refresh</button>
    </div>
  
    <div class="orders-table-wrap">
      <table class="orders-table">
        <thead>
          <tr>
            <th>Tanggal</th>
            <th>Nama</th>
            <th>USD</th>
            <th>Type</th>
            <th>Status</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody id="ordersBody"></tbody>
      </table>
      <div class="pagination" id="ordersPagination"></div>
    </div>
  
  </div>

</section>

<footer>
  Â© 2026 Xkay Store â€¢ All Rights Reserved
</footer>

<!-- FLOATING WHATSAPP -->
<a href="https://wa.me/6285846005280?text=Halo%20Admin%2C%20saya%20ingin%20tanya%20tentang%20layanan%20PayPal" class="wa-float" target="_blank" rel="noopener" aria-label="Chat WhatsApp">

  <span class="wa-tooltip">Online sekarang</span>

  <span class="wa-text">Tanya Admin</span>

  <!-- ICON WRAPPER -->
  <span class="wa-icon-wrap">

    <svg class="wa-icon" viewBox="0 0 32 32" fill="white">
      <path d="M19.11 17.27c-.29-.15-1.72-.85-1.99-.94-.27-.1-.46-.15-.66.15-.2.29-.76.94-.93 1.13-.17.2-.34.22-.63.07-.29-.15-1.23-.45-2.35-1.45-.87-.77-1.46-1.72-1.63-2.01-.17-.29-.02-.45.13-.6.14-.14.29-.34.44-.51.15-.17.2-.29.29-.49.1-.2.05-.37-.02-.51-.07-.15-.66-1.59-.9-2.17-.24-.57-.49-.5-.66-.5h-.56c-.2 0-.51.07-.78.37-.27.29-1.02 1-1.02 2.43s1.05 2.82 1.19 3.02c.15.2 2.06 3.14 5 4.4.7.3 1.25.48 1.67.61.7.22 1.33.19 1.83.11.56-.08 1.72-.7 1.97-1.37.24-.66.24-1.23.17-1.37-.07-.15-.27-.22-.56-.37zM16 3C8.83 3 3 8.83 3 16c0 2.82.93 5.43 2.5 7.55L4 29l5.63-1.48A12.9 12.9 0 0016 29c7.17 0 13-5.83 13-13S23.17 3 16 3z"/>
    </svg>

  </span>

</a>
<!-- CHAT BUBBLE -->
<div class="wa-chat-bubble" id="waBubble">
  Halo ğŸ‘‹ bisa bantu?
</div>

<!-- ================= PIN LOCK ================= -->
<div id="pinLock" class="pin-lock">

  <div class="pin-box">
    <h3>ğŸ” Admin Access</h3>
    <p>Masukkan PIN</p>

    <input type="password" id="pinInput" maxlength="6" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢" />

    <button id="pinBtn">Masuk</button>

    <small id="pinError"></small>
  </div>

</div>

<!-- ============= EDIT ORDER MODAL ============= -->
<div id="orderModal" class="modal">
  <div class="modal-box">

<h3>Edit Transaksi</h3>

<input type="text" id="modalNama" placeholder="Nama">
<input type="email" id="modalEmail" placeholder="Email">
<input type="text" id="modalMetode" placeholder="Metode">
<input type="text" id="modalTujuan" placeholder="Tujuan">
<input type="text" id="modalNomor" placeholder="Nomor Tujuan">

<input type="number" id="modalUsd" placeholder="USD">
<input type="number" id="modalIdr" placeholder="IDR">

<select id="modalType">
  <option value="convert">Convert</option>
  <option value="topup">Top Up</option>
</select>

<select id="modalStatus">
  <option value="pending">Pending</option>
  <option value="process">Process</option>
  <option value="success">Success</option>
  <option value="cancel">Cancel</option>
</select>

    <div class="modal-actions">
      <button id="saveOrderBtn" class="btn-admin">Simpan</button>
      <button id="cancelOrderBtn" class="btn-admin btn-logout">Batal</button>
    </div>

  </div>
</div>

<div id="orderToastContainer" class="toast-container"></div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/script.js"></script>
<script src="js/admin.js"></script>
</body>
</html>